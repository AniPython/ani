{% extends 'crawler/includes/crawler_base.html' %}

{% block 说明 %}
    反爬: 防止 ip 频繁访问<br>
    <code>rate='2/s'</code> 表示每秒钟最多访问 <code>2</code> 次<br>
    <code>rate='30/m'</code> 表示每分钟最多访问 <code>30</code> 次<br>
    <code>rate='1000/24h'</code> 表示每24小时最多访问 <code>1000</code> 次<br>
    <code>rate='2000/2d'</code> 表示每2天最多访问 <code>2000</code> 次

    <div class="mt-2">
        <div class="highlight rounded-3">
            <pre class="prettyprint lang-python border-0"># pip install django-ratelimit
from ratelimit.decorators import ratelimit

@ratelimit(key='ip', rate='2/s', block=True)
def crawler3(request):
    pass</pre>
        </div>
    </div>
{% endblock %}


{% block 爬取内容 %}
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            <li id="page1" class="page-item"><a class="page-link" href="?page=1">1</a></li>
            <li id="page2" class="page-item"><a class="page-link" href="?page=2">2</a></li>
            <li id="page3" class="page-item"><a class="page-link" href="?page=3">3</a></li>
        </ul>
    </nav>
    <div class="poem text-center">
        {{ poem|safe }}
    </div>
{% endblock %}


{% block 方案1标题 %}
    方案1. 找url的规律, 遍历发送多次请求
{% endblock %}


{% block 方案1详情 %}
    <div class="highlight rounded-3">
        <pre class="prettyprint lang-python border-0">{{ code_crawler3_1 }}</pre>
    </div>
{% endblock %}


{% block 方案2标题 %}
    xxx
{% endblock %}


{% block 方案2详情 %}
    xxx
{% endblock %}


{% block 方案3标题 %}
    xxx
{% endblock %}


{% block 方案3详情 %}
    xxx
{% endblock %}


{# 不显示方案2 #}
{% block 方案2 %}{% endblock %}

{# 不显示方案3 #}
{% block 方案3 %}{% endblock %}
